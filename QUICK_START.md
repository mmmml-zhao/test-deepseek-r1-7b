# å¿«é€Ÿå¼€å§‹æŒ‡å—

## ğŸš€ 5åˆ†é’Ÿå¿«é€Ÿä¸Šæ‰‹

### 1. ç¯å¢ƒå‡†å¤‡

ç¡®ä¿æ‚¨çš„ç³»ç»Ÿå·²å®‰è£…ä»¥ä¸‹è½¯ä»¶ï¼š

- **Node.js 18+**: [ä¸‹è½½åœ°å€](https://nodejs.org/)
- **Docker**: [ä¸‹è½½åœ°å€](https://docs.docker.com/get-docker/)
- **Docker Compose**: [å®‰è£…æŒ‡å—](https://docs.docker.com/compose/install/)
- **Ollama**: [ä¸‹è½½åœ°å€](https://ollama.ai/download)

### 2. å¯åŠ¨æ–¹å¼é€‰æ‹©

#### æ–¹å¼ä¸€ï¼šDockerç¯å¢ƒï¼ˆæ¨èï¼‰

å¦‚æœæ‚¨ä½¿ç”¨Dockerè¿è¡ŒRedisï¼Œæ¨èä½¿ç”¨Dockerç¯å¢ƒï¼š

```bash
# å¯åŠ¨DockeræœåŠ¡
./docker-manager.sh start

# å¯åŠ¨å®Œæ•´æœåŠ¡
./start-docker.sh
```

#### æ–¹å¼äºŒï¼šæ··åˆç¯å¢ƒ

å¦‚æœæ‚¨æƒ³ä½¿ç”¨Docker Redisä½†æœ¬åœ°è¿è¡Œå…¶ä»–æœåŠ¡ï¼š

```bash
# å¯åŠ¨DockeræœåŠ¡
./docker-manager.sh start

# å¯åŠ¨åº”ç”¨æœåŠ¡
./start.sh
```

#### æ–¹å¼ä¸‰ï¼šå®Œå…¨æœ¬åœ°ç¯å¢ƒ

å¦‚æœæ‚¨æ‰€æœ‰æœåŠ¡éƒ½æœ¬åœ°è¿è¡Œï¼š

```bash
# å¯åŠ¨æ‰€æœ‰æœåŠ¡
./start.sh
```

### 3. è®¿é—®åº”ç”¨

æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼šhttp://localhost:3000

## ğŸ³ Dockerç¯å¢ƒç®¡ç†

### DockeræœåŠ¡ç®¡ç†

```bash
# å¯åŠ¨DockeræœåŠ¡
./docker-manager.sh start

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
./docker-manager.sh status

# æŸ¥çœ‹æœåŠ¡æ—¥å¿—
./docker-manager.sh logs

# åœæ­¢DockeræœåŠ¡
./docker-manager.sh stop

# é‡å¯DockeræœåŠ¡
./docker-manager.sh restart

# æ¸…ç†æ‰€æœ‰æ•°æ®
./docker-manager.sh clean
```

### å•ç‹¬ç®¡ç†æœåŠ¡

```bash
# ä»…ç®¡ç†Redis
./docker-manager.sh redis start
./docker-manager.sh redis stop
./docker-manager.sh redis logs

# ä»…ç®¡ç†ChromaDB
./docker-manager.sh chroma start
./docker-manager.sh chroma stop
./docker-manager.sh chroma logs
```

### Docker Composeç›´æ¥æ“ä½œ

```bash
# å¯åŠ¨æœåŠ¡
docker-compose up -d

# æŸ¥çœ‹çŠ¶æ€
docker-compose ps

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs

# åœæ­¢æœåŠ¡
docker-compose down
```

## ğŸ“– ä½¿ç”¨RAGåŠŸèƒ½

### ç¬¬ä¸€æ­¥ï¼šæ·»åŠ æ–‡æ¡£

1. åœ¨"RAGçŸ¥è¯†åº“ç®¡ç†"é¢æ¿ä¸­
2. è¾“å…¥æ–‡æ¡£è·¯å¾„ï¼Œä¾‹å¦‚ï¼š`./documents`
3. ç‚¹å‡»"æ·»åŠ æ–‡æ¡£"æŒ‰é’®
4. ç­‰å¾…å¤„ç†å®Œæˆ

### ç¬¬äºŒæ­¥ï¼šå¯ç”¨RAG

1. ç¡®ä¿RAGçŠ¶æ€æ˜¾ç¤ºä¸º"å·²å¯ç”¨"
2. åœ¨ä¸Šä¸‹æ–‡è®¾ç½®ä¸­æ·»åŠ ï¼š`"useRAG": true`

### ç¬¬ä¸‰æ­¥ï¼šå¼€å§‹èŠå¤©

1. ç‚¹å‡»"æ–°å»ºä¼šè¯"
2. è¾“å…¥æ‚¨çš„é—®é¢˜
3. AIå°†åŸºäºæ‚¨æ·»åŠ çš„æ–‡æ¡£å›ç­”ï¼Œå¹¶ä½¿ç”¨é‡æ’åºæ¨¡å‹ä¼˜åŒ–æ£€ç´¢ç»“æœ

## ğŸ¯ é‡æ’åºåŠŸèƒ½

ç³»ç»Ÿé›†æˆäº† `dengcao/Qwen3-Reranker-4B:Q4_K_M` é‡æ’åºæ¨¡å‹ï¼Œèƒ½å¤Ÿï¼š

- **æ™ºèƒ½æ’åº**: æ ¹æ®æŸ¥è¯¢ç›¸å…³æ€§å¯¹æ£€ç´¢ç»“æœé‡æ–°æ’åº
- **æå‡ç²¾åº¦**: å°†æœ€ç›¸å…³çš„æ–‡æ¡£æ’åœ¨å‰é¢
- **è‡ªåŠ¨ä¼˜åŒ–**: æ— éœ€æ‰‹åŠ¨é…ç½®ï¼Œè‡ªåŠ¨åº”ç”¨äºæ‰€æœ‰æŸ¥è¯¢

### æµ‹è¯•é‡æ’åºåŠŸèƒ½

```bash
# æµ‹è¯•é‡æ’åºæ¨¡å‹
node test_reranker.js

# æµ‹è¯•å®Œæ•´RAGç³»ç»Ÿï¼ˆåŒ…å«é‡æ’åºï¼‰
node test_rag_with_reranker.js
```

## ğŸ§ª æµ‹è¯•RAGåŠŸèƒ½

è¿è¡Œæµ‹è¯•è„šæœ¬éªŒè¯åŠŸèƒ½ï¼š

```bash
node test_rag.js
```

## ğŸ“ ç¤ºä¾‹æ–‡æ¡£

é¡¹ç›®åŒ…å«ç¤ºä¾‹æ–‡æ¡£ï¼š

- `documents/README.md` - é¡¹ç›®æ¦‚è¿°
- `documents/api_guide.md` - APIä½¿ç”¨æŒ‡å—
- `documents/configuration.md` - é…ç½®è¯´æ˜

## ğŸ”§ å¸¸è§é—®é¢˜

### Q: Docker Redisè¿æ¥å¤±è´¥æ€ä¹ˆåŠï¼Ÿ

**A:** æ£€æŸ¥DockeræœåŠ¡çŠ¶æ€ï¼š

```bash
# æŸ¥çœ‹DockeræœåŠ¡çŠ¶æ€
./docker-manager.sh status

# æŸ¥çœ‹Redisæ—¥å¿—
./docker-manager.sh redis logs

# é‡å¯RedisæœåŠ¡
./docker-manager.sh redis restart
```

### Q: å¦‚ä½•æŸ¥çœ‹Dockerå®¹å™¨çŠ¶æ€ï¼Ÿ

**A:** ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š

```bash
# æŸ¥çœ‹æ‰€æœ‰å®¹å™¨
docker ps -a

# æŸ¥çœ‹MCPç›¸å…³å®¹å™¨
docker-compose ps

# æŸ¥çœ‹å®¹å™¨æ—¥å¿—
docker-compose logs
```

### Q: å¦‚ä½•å¤‡ä»½Dockeræ•°æ®ï¼Ÿ

**A:** Dockeræ•°æ®å­˜å‚¨åœ¨å‘½åå·ä¸­ï¼š

```bash
# æŸ¥çœ‹å·ä¿¡æ¯
docker volume ls

# å¤‡ä»½Redisæ•°æ®
docker run --rm -v mcp_redis_data:/data -v $(pwd):/backup alpine tar czf /backup/redis-backup.tar.gz -C /data .

# å¤‡ä»½ChromaDBæ•°æ®
docker run --rm -v mcp_chroma_data:/data -v $(pwd):/backup alpine tar czf /backup/chroma-backup.tar.gz -C /data .
```

### Q: å¦‚ä½•æ¸…ç†Dockerç¯å¢ƒï¼Ÿ

**A:** ä½¿ç”¨æ¸…ç†å‘½ä»¤ï¼š

```bash
# æ¸…ç†å®¹å™¨å’Œæ•°æ®
./docker-manager.sh clean

# æˆ–è€…æ‰‹åŠ¨æ¸…ç†
docker-compose down -v
docker system prune -f
```

### Q: å¯åŠ¨å¤±è´¥æ€ä¹ˆåŠï¼Ÿ

**A:** æ£€æŸ¥ä»¥ä¸‹æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œï¼š

```bash
# æ£€æŸ¥Redis
docker exec mcp-redis redis-cli ping

# æ£€æŸ¥ChromaDB
curl http://localhost:8000/api/v1/heartbeat

# æ£€æŸ¥Ollama
curl http://localhost:11434/api/tags
```

### Q: å¦‚ä½•æ·»åŠ è‡ªå·±çš„æ–‡æ¡£ï¼Ÿ

**A:** å°†æ‚¨çš„æ–‡æ¡£æ”¾åœ¨ä»»æ„ç›®å½•ï¼Œç„¶ååœ¨RAGé¢æ¿ä¸­è¾“å…¥è¯¥ç›®å½•çš„å®Œæ•´è·¯å¾„ã€‚

### Q: æ”¯æŒå“ªäº›æ–‡ä»¶æ ¼å¼ï¼Ÿ

**A:** æ”¯æŒ .txt, .md, .js, .ts, .py, .java, .cpp, .c, .h, .json, .xml, .html, .css ç­‰æ ¼å¼ã€‚

### Q: å¦‚ä½•è°ƒæ•´RAGå‚æ•°ï¼Ÿ

**A:** åœ¨ `rag/vector_store.js` ä¸­ä¿®æ”¹ï¼š
- `chunkSize`: æ–‡æœ¬å—å¤§å°
- `overlap`: é‡å å¤§å°
- `topK`: æ£€ç´¢æ–‡æ¡£æ•°é‡

## ğŸ“Š åŠŸèƒ½ç‰¹æ€§

### âœ… å·²å®ç°åŠŸèƒ½

- [x] å¤šæ ¼å¼æ–‡æ¡£æ”¯æŒ
- [x] æ™ºèƒ½æ–‡æ¡£åˆ†å‰²
- [x] å‘é‡åŒ–å­˜å‚¨
- [x] è¯­ä¹‰æœç´¢
- [x] å¢å¼ºå›ç­”ç”Ÿæˆ
- [x] çŸ¥è¯†åº“ç®¡ç†
- [x] å®æ—¶èŠå¤©ç•Œé¢
- [x] WebSocketé€šä¿¡
- [x] ä¼šè¯æŒä¹…åŒ–
- [x] Dockerç¯å¢ƒæ”¯æŒ

### ğŸ”„ å·¥ä½œæµç¨‹

```
æ–‡æ¡£è¾“å…¥ â†’ æ–‡æœ¬åˆ†å‰² â†’ å‘é‡åŒ– â†’ å­˜å‚¨åˆ°ChromaDB
                                    â†“
ç”¨æˆ·é—®é¢˜ â†’ å‘é‡åŒ– â†’ è¯­ä¹‰æœç´¢ â†’ æ£€ç´¢ç›¸å…³æ–‡æ¡£ â†’ å¢å¼ºæç¤º â†’ LLMç”Ÿæˆå›ç­”
```

## ğŸ¯ ä½¿ç”¨åœºæ™¯

### 1. ä¼ä¸šçŸ¥è¯†é—®ç­”
- ä¸Šä¼ å…¬å¸æ–‡æ¡£ã€æ‰‹å†Œã€æ”¿ç­–
- å‘˜å·¥å¯ä»¥å¿«é€Ÿè·å–å‡†ç¡®ä¿¡æ¯

### 2. ä»£ç åº“åˆ†æ
- ä¸Šä¼ é¡¹ç›®ä»£ç 
- è¯¢é—®ä»£ç ç»“æ„ã€åŠŸèƒ½å®ç°

### 3. æŠ€æœ¯æ”¯æŒ
- ä¸Šä¼ æŠ€æœ¯æ–‡æ¡£
- æä¾›è‡ªåŠ¨åŒ–çš„æŠ€æœ¯æ”¯æŒ

### 4. å­¦ä¹ åŠ©æ‰‹
- ä¸Šä¼ å­¦ä¹ èµ„æ–™
- åŸºäºèµ„æ–™å›ç­”é—®é¢˜

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### æ–‡æ¡£å¤„ç†ä¼˜åŒ–
- æ‰¹é‡å¤„ç†æ–‡æ¡£
- å¼‚æ­¥å‘é‡åŒ–
- å†…å­˜ç®¡ç†ä¼˜åŒ–

### æ£€ç´¢ä¼˜åŒ–
- è¯­ä¹‰ç›¸ä¼¼åº¦è®¡ç®—
- ç»“æœæ’åºå’Œè¿‡æ»¤
- ç¼“å­˜æœºåˆ¶

## ğŸ” å®‰å…¨è€ƒè™‘

- æ–‡æ¡£å­˜å‚¨åœ¨æœ¬åœ°
- å‘é‡æ•°æ®æœ¬åœ°åŒ–
- æ— å¤–éƒ¨APIä¾èµ–
- æ”¯æŒç§æœ‰éƒ¨ç½²
- Dockerå®¹å™¨éš”ç¦»

## ğŸ“ è·å–å¸®åŠ©

å¦‚æœé‡åˆ°é—®é¢˜ï¼š

1. æŸ¥çœ‹æ§åˆ¶å°é”™è¯¯ä¿¡æ¯
2. è¿è¡Œ `node test_rag.js` è¯Šæ–­
3. æ£€æŸ¥DockeræœåŠ¡çŠ¶æ€
4. æŸ¥çœ‹è¯¦ç»†æ–‡æ¡£

## ğŸ‰ å¼€å§‹ä½¿ç”¨

ç°åœ¨æ‚¨å·²ç»äº†è§£äº†åŸºæœ¬ä½¿ç”¨æ–¹æ³•ï¼Œå¼€å§‹ä½“éªŒRAGåŠŸèƒ½å§ï¼

```bash
# Dockerç¯å¢ƒå¯åŠ¨
./docker-manager.sh start
./start-docker.sh

# è®¿é—®åº”ç”¨
open http://localhost:3000
```

ç¥æ‚¨ä½¿ç”¨æ„‰å¿«ï¼ ğŸš€ 